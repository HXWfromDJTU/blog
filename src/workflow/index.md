## 前言
不知不觉正式工作已经三年时间了，不同于自己的`side-project`，正式项目中更加强调流程化、标准化的工作规范。

比如淘系的《前端开发规约》，著名的雅虎35条军规等...学习参考固然重要，但能够沉淀下来成为自己的内容才更为重要。

本文会陆续补充自己在项目中犯过错，吃过亏的一些点，对自己的印象也会更深刻一些。


## 交互
1. 用户更改数据之后是否及时更新/拉取相关状态
2. 实时性要求较高的数据，是否做了实施的更新请求。
    * 若采用轮询的方式，后端接口是否能够承受压力
    * 是否考虑使用`ws`
    * 实时更新数据，但网络不好的条件下。处理多个请求的返回，需要注意判断与当时的条件是否匹配。
3. 重要操作都有防重复机制
    * 非幂等操作，诸如提现、转账等
4. 如何决定提醒用户的层次
    * 是否过度打扰用户
    * 是否影响用户当前的主流程操作
    * 在轮询接口时，不要使用频繁弹出提示。(与请求一对一的提示是不必要的)
5. 一个错误提示(弹窗)的关键要素
    * 用户理解为何出错的原因
    * 开发人员用于定位错误的`错误码`/`错误信息`
    * 对用户下一步的引导


## 代码逻辑
1. API 请求都有错误处理
2. 错误未被吞掉。
    * 本地日志   
    * 主动上报日志   
    * Toast、Dialog 通知用户   

4. 多个维度的逻辑相互交叉的判断时，要做到以下两点：
    * 不重复处理
    * 不遗漏处理
    
5. 注释是否得当
    * 直译变量名的傻事不要去做
    * `特殊逻辑` `关键逻辑` 才需要添加注释
    
6. 代码重复出现两次或以上，就有一定会有抽象的空间    

7. i18n
    * 每次提交代码之前，需要确认没有待翻译的中文出现。
    * 需要根据实际场景，抽取特性的翻译规则，便于翻译人员理解场景。

8. 代码的潜规则
    * 
    
9. 内存管理
    * 计时器、时间监听，使用结束必须要记得清理
    
## 业务处理
1. 对于货币`decimal`的处理
    * 在中心化业务下，建议食用`大单位` `带精度`的值进行计算。而去中心化业务中，使用`小单位` `不带精度`的值进行计算。
    * 需要在前端的几个数据来源入口处，把数据处理成统一的单位
        * 后端的数据接口
        * 用户的输入
        * 第三方SDK的计算结果
    * 在前端内部使用相同的计算单位，避免多次精度转换
    * 设计前端内部工具函数时，也参考上一条的计算单位
    
## Vue.js
1. 减少在`watch`中处理主业务代码
    * 因为其切面编写的原因，难以理清主要逻辑。
    * 建议使用在`上报数据`等场景下。    
2. 页面组件拆分

#### to be continue....


## 参考文章
[1] [阿里前端开发规范](https://w3ctim.com/post/1d821dd8)   
