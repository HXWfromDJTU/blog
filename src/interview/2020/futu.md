## 富途证券

egg.js 与 pm 2的多进程工作原理，与cluster的实现

new 关键字的实现 

- 复盘:
    - 注意说清楚原型链
    - 先创建指向构造器原型的对象
    - 然后调用构造器，得到返回值
    - 返回值若不是有效对象，则直接返回创建的对象

this的指向问题，与胖箭头函数 

- 复盘
    - 常规函数指向调用时的环境
    - arrow function 没有自己的this，所以指向定义时的外层作用域
        - 顺带拓展地说下，为什么 arrow function 没有 this
        - 以及所带来的问题，不能用new调用、不能做构造器，没有arguments对象

csrf token 正常的使用流程是怎么样的呢? 实际是如何进行攻击的? 明明就是使用图片进行跨域了吧。跨域cookie会发送吗？cookie是从哪个域发送的? 

- 复盘
    - 先说清楚攻击方式有哪些
    - 初步的防护有哪些
        - 检查 Referer 字段
        - 检查 Origin 字段
    - 说说请求签名的方案
    - CSRF Token 方案如何实现？
        - 双 Cookie 方案 ⇒ 说说弊端
        - 涉及安全的接口，使用短信、邮箱验证码，实现物理 Token

xss的深入了解(没话说啊)

跨域请求实际会被发送吗？ 

- 复盘
    - 自己引申出跨域的那一套知识体系

可缓存的fibonacci
符号匹配

bfc 是如何形成的呢  

- 复盘:
    - 先说清楚定义
    - 再说说作用
        - 清浮动解决盒子塌陷
        - margin 垂直塌陷的问题(父与子，兄弟)

手写两列布局 

- 复盘
    - 多写多理解

dns-prefetch实现的详细细节，是link标签还是，怎么样 

- 复盘:
    - 要主动说说 server-push \ preload \ pre-fetch 的区别在哪里？
    - webpack 如何实现的prefetch

http策略缓存的详细流程，后端检测etag，max-age还有什么? 

- 复盘：
    - 当时理解不够清楚，含糊其词

vue ssr的实现原理，弄清楚

cdn 的工作原理说说 

- 复盘: 这个问题没有主动引申去说明
    - CDN原理，要说清楚如何命中CDN 如何回溯
    - 如何利用好CDN，如何配置CDN
    - CDN字体跨域如何解决
    - CDN情况下，webpack 如何配合进行打包资源更新
        - contenthash 之类
        - 如何进行热部署

* 列表懒加载 和 图片懒加载的实现原理，能写一个demo表示下吗？
  * 复盘
    1. 总体思维是，让在视野外的图片先不进行渲染，从而减少请求与渲染
    2. 通过视窗高度、元素高度，计算出视野内需要显示的元素是哪些，并开始正常加载
    3. 视野外到的 img 元素，现将 src 属性设置为 统一的空白图片，并用 data-src 属性绑定其真实的url路径
    4. 当元素滚动进入到视野当中后，使用 JavaScript 将 src 属性设置为 data-src 的值，开始下载与渲染图片

bind函数的作用是什么?     

- 复盘考点
    - this 对象的绑定
    - 参数的处理
    - bind后的函数可能会被new 调用

websocket 后端写过吗？说说你了解的 websocket。

手写下括号合法的匹配的检测函数

### 自我总结(复盘)

- 回答问题有点着急，很多问题都可以先思考一下再给出答案
- 不要表现得很慌张的样子
- 遇到奇怪的面试题，要问问面试官这个题目的实际场景。
    - 一方面有助于理解题目
    - 二是有助于后续复盘学习，挑战一下面试官这个题目的用意
- 跨域请求确实是发送到了服务端 (已确认)
- 多次bind结果会如何？
    - 参考 [https://juejin.im/post/6844904039390396430](https://juejin.im/post/6844904039390396430)
- SSR 相关知识需要跟进