# SPDY

2012年google提出了`SPDY`方案，`SPDY`可以说是综合了`https`和`http`的优势于一体。  

1️⃣ `降低延迟`     
类似于http2.0的模式，都是采用了多路复用的形式，多个请求`stream`共享一个`tcp`连接的`tcp`形式，降低了延迟，同时提高了宽带的利用率。     

2️⃣ `允许设置请求优先级`     
多路复用导致多个资源请求都可以进行并发地同时发送，但带宽也是有限的。一些关键的资源就有机会被落到后面去，从而造成资源加载的不合理。比如说，网页加载的html需要优先下载，而不是js，css。
SPDY在此基础上，允许给每个request都设置优先级，这样关键的资源就能够被优先的加载。   

3️⃣ `Header压缩`     
同样的，类似于http2.0。SPDY也选择将复杂重复的http 头部字段进行压缩。     

4️⃣ `基于https的加密`     
使用了`https`的所有原则进行加密传输数据。       

5️⃣ `服务端推送`     
在SPDY中,还有一点也是和http2.0一样的操作，服务端的推送(server push)。不多说，参考http2.0的做法。  

#### 与http2.0差别      
1️⃣ `http2.0`支持明文的`http`传输。但是`SPDY`是采用了`https`的安全传输机制，强制实行进行了压缩。      
2️⃣  `http2.0`的头部压缩算法，使用的是`HPACK`,而非`SPDY`采用的是`DEFLATE`   

> ps: `HPACK` 压缩算法能抵御 `CRIME` 攻击，而`DEFLATE`算法并不可以。对于攻击者来说，前者需要猜出所有头部的值。而在`DEFLATE`算法下有可能通过渐进的方式获得某个头部的值。   

> `CRIME`攻击，是通过在受害者的浏览器中运行`JavaScript`代码并同时监听HTTPS传输数据，我们能够解密会话`Cookie`。