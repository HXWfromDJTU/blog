# TCP IP
### 起源
1️⃣ 最早起源于军事防卫和科学研究,ARPANET最开始在美国🇺🇸的四个学校机构间搭建，是互联网的鼻祖
2️⃣ ARPNET组织中的一部分人研究出了“TCP-IP”协议，1982年具体的协议规范才被最终定下来，成为ARPANET的唯一指定协议
3️⃣ UNIX系计算机实现了TCP/IP协议，也由于的UNIX系计算机的兴起，和SUN公司开发的各种应用支持TCP/IP协议，是的TCP/IP变得更加流行
4️⃣ ISP的出现以及个人PC接入互联网，大大的继续提升了TCP IP的应用

### 标准
1️⃣ TCP/IP 泛指 与RCP/IP先关的一系列协议，包括 TCP IP UPD TCP HTTP HTTPS
2️⃣ 经由IETF组织进行讨论，RFC（Request For Comment）负责记录协议族下的所有的标准情况
3️⃣ 起草 ➡️ 标准化 ➡️ 提议标准阶段 ➡️ 草案标准阶段

### 互联网的结构
1️⃣ 骨干网和末端网，通过NOC(Network Operator Center)链接，跨运营商通过IX(Internet Exchange)链接支持.
2️⃣ 一般人接入互联网，都要通过ISP(Internet Service Provider)提供的服务

### OSI七层模型
| 分层名称 | 包含内容 | 载体 |
| ------ | ------ | ------ |
| 7️⃣应用层 | HTTP FTP TFTP SMTP SNMP DNS TELNET HTTPS POP3 DHCP| 应用程序 |
| 6️⃣表示层 | HTML 字符编码| 应用程序 |
| 5️⃣会话层 | | 应用程序 |
| 4️⃣传输层 | TCP UDP  UDP-Lite SCTP DCCP | 操作系统 |
| 3️⃣网络层 | ARP IP ICMP  | 操作系统 |
| 2️⃣链路层 | 网卡驱动等驱动软件 | 设备驱动程序 |
| 1️⃣物理层 | 以太网、电话线 | 网络接口 |



### 补充
#### 1️⃣ 物理层
TCP/IP 是在网络互连的设备之间能够通信的前提下才被提出的协议。

#### 2️⃣ 数据链路层(网络接口层)
网络接口层属于接入层，负责调用上一层（物理层）的硬件麻比如我们常见的网卡驱动程序。

#### 3️⃣ 互联网层（网络层/IP层）
☎️ `IP`层IP协议会把数据包添加上IP头信息，虽然IP也是分组交换的一种协议，但其不具有重发机制，所以IP协议属于`非可靠传输协议`。
📟 `ICMP`用于在IP包发送异常的时候，给发送端发送一个异常的通知，一半用于网络诊断
📠 `ARP`用于从分组的数据包中解析出IP地址中的物理地址(Mac地址)。

#### 4️⃣ 传输层
传输层主要功能是然后应用程序之间实现通信，比如程序A部署在80端口，而程序B部署在8080端口，AB程序之间的通信就是通过端口号进行识别的。

📺 `TCP` 是一种面向有链接的传输协议，他不仅可以知晓对方是否正确收到数据包，还能够对数据包进行重传，有效利用宽带，缓解网络拥堵。安全稳定，单不合适在在大量数据传送、实时传送的应用中使用。 

📻 `UDP` 是一种面向无连接的传输层协议，UDP不能知晓接收端是否已经成功接收到了自己发送的数据包。若要检测，只能够在应用层中检测。


#### 5️⃣ 应用层
🔦 `WWW` + `HTML` 浏览器工作
📡 `Email-SMTP`:`Simple Mail Transfer Protocol`
🔋 `FTP`:`File Transfer Protocol`
🔌 `TELNET` 与 `SSH`:`TELetypewrite`与`Secure SHell`
💡 `SNMP`:Simple Network Management Protocol

#### 发送与头部
1️⃣ 在数据包的首部，明确标明了协议应该如何读取数据，反过来说，看到首部，也就能欧了解该协议必要的信息以及索要处理的内容。

2️⃣ 数据包首部至少包括两个内容：🥇发送端地址和接收端地址 🥈上一层的协议类型
以太网️ ➡️ MAC地址
IP ➡️ IP地址
TCP/UPD ➡️ 端口

#### 接收与解析
1️⃣ 链路层
以太网收到一个数据包，会拆开以太网包的首部，查看MAC地址是否本机(网卡)，若不是则直接丢弃，若是那么就读取包头中的下一层协议，看看是IP还是ARP，若都不是也扔掉。

2️⃣ IP层（网络层）
📢 上层根据下层协议名称，调用IP层的不同协议(IP或者ARP)进行拆包，作出相应的操作，也会根据下层协议类型，交给传输层

📣 一般来说，要是网路中函数路由器，路由器中的IP层接收到链路层的包后，都需要根据路由控制表，继续要发送的主机或者路由进行下一跳。

3️⃣ 传输层
🀄️ 同时也会制作一个回应数据包，沿着原路发送回给发送端

🃏 传输层接收到上一层的数据包，然后使用对应的协议(TCP或者UDP)解析包头，取出口号

🚸 若是TCP协议，传输层会根据checksum的结果，检查数据报是否发送完，若以发送完整，则将完整的数据包发送给本机上对应端口号的应用程序。

♻️ 若是UDP协议，传输层值会将




