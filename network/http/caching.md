# http缓存


### 强制缓存
优先从浏览器数据库中获取对应的数据，若存在对应的数据，则选择直接从中获取。  
若缓存失效，才去服务器请求数据。  

##### Expire  
`http1.0` 遗留的产物，指明资源的过期时间，但是客户端和服务端的时候可能有差距。   


##### Cache Control
no-store : 表示直接不适用缓存，UA每次都必须向服务器发起请求资源。
no-cache : 标志直接跳过强缓存阶段,必须向服务器发起询问是否已经更新，也就是协商缓存。 
max-age：表示资源的过期时间。 
public：表示资源可以被传输过程总任何人缓存
pravite ： 表示资源只可以被最终的接收端缓存。


### 协商缓存  
客户端请求数据的时候，会先从本地数据库的对应资源下，获取一个资源的标志符号(ETag或者修改时间等等)，客户端待着参数请求服务器，服务器根据这些标志判断资源是否已经更新，若没有更新的话则直接返回一个304状态码，客户端收到之后就直接从浏览器数据库中取出对应的缓存数据。若资源已经过期，则服务端会连同数据一起返回。    

两种缓存机制可以同时使用，强缓存优先于协商缓存，若强缓存命中则不必走一遍协商缓存的RTT。