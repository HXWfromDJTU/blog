# Socket

### socket
1️⃣ 网络上的两个程序通过一个双向链接实现数据的交换，这个连接的一段被称之为socket。
2️⃣ socket的本质是一个编程接口，对TCP/IP进行了封装，TCP/IP也要提供可供开发者做网络开发的接口。
3️⃣ HTTP是轿车🚘，提供了封装或者显示数据的具体形式，socket是发动机，提供了网络通信的能力。  
4️⃣ 一台主机上通常会有多个端口，对应着不同的应用服务，每个服务都打开一个socket,并且绑定到一个端口上。
5️⃣ 一台主机就像一个布满插座的房间，有的插座提供的是直流电，有的插座提供的是交流电，有的插座提供的是一个电视信号，用户通过插头插到不同的插座，就可以得到不同的服务。
![](/blog_assets/socket.png)


### 连接过程
根据连接启动的方式以及本地套接字要连接的目标，套接字之间的连接过程可以分为三个步骤：服务器监听，客户端请求，连接确认。

1️⃣ 服务器监听：是服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态。

2️⃣ 客户端请求：是指由客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。

3️⃣ 连接确认：是指当服务器端套接字监听到或者说接收到客户端套接字的连接请求，它就响应客户端套接字的请求，建立一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述，连接就建立好了。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。
